.wrap { padding: 4rem 2rem; }
.head { text-align: center; max-width: 880px; margin: 0 auto 2rem; }
.kicker {
  display: inline-block; font-size: .85rem; font-weight: 700; color: #5A4FCF;
  background: rgba(90,79,207,.08); padding: .35rem .7rem; border-radius: 999px; margin-bottom: .6rem;
}
.head h2 { font-size: clamp(1.8rem, 3vw, 2.4rem); margin: .25rem 0 .5rem; color: #1f1d2b; }
.lead { color: #4b4b4b; font-size: clamp(1rem, 1.5vw, 1.125rem); }

/* ===== Timeline ===== */
.timeline {
  position: relative;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  align-items: center;
  gap: 0;
  max-width: 1100px;
  margin: 1.2rem auto 1.4rem;
  height: 36px;
}
.rail {
  grid-column: 1 / -1;
  height: 2px;
  background: linear-gradient(90deg, rgba(90,79,207,.25), rgba(255,209,102,.35));
  transform: scaleX(0);
  transform-origin: left;
}
.railOn {
  animation: railGrow 650ms cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes railGrow {
  from { transform: scaleX(0); }
  to   { transform: scaleX(1); }
}
.node {
  justify-self: center;
  width: 36px; height: 36px; border-radius: 999px;
  display: grid; place-items: center;
  background: #fff;
  border: 2px solid #5A4FCF;
  color: #5A4FCF; font-weight: 800;
  box-shadow: 0 6px 18px rgba(90,79,207,.18);
  opacity: 0;
  transform: scale(.7);
  animation: pop 420ms cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes pop {
  from { opacity: 0; transform: scale(.7); }
  to   { opacity: 1; transform: scale(1); }
}
.activeNode {
  background: #FFD166; border-color: #FFD166; color: #2D2D2D;
  box-shadow: 0 0 0 6px rgba(255,209,102,.2), 0 12px 26px rgba(0,0,0,.12);
}

/* ===== Cards ===== */
.grid {
  list-style: none; padding: 0; margin: 1.2rem auto 0;
  display: grid; grid-template-columns: repeat(3, minmax(240px, 1fr));
  gap: 1.2rem; max-width: 1100px;
}
.card {
  background:#fff; border:1px solid #eee; border-radius:16px;
  padding:1.4rem 1.2rem 1.2rem; text-align:left;
  box-shadow: 0 8px 22px rgba(0,0,0,.06);
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
  opacity: 0; transform: translateY(12px);
  animation: fadeUp 520ms cubic-bezier(.2,.8,.2,1) forwards;
}
.cardIn { /* la animaci√≥n se activa al entrar a viewport con delays inline */ }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}
.card:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 16px 30px rgba(0,0,0,.08); border-color:#e6e4ff; }

.iconRow { display:flex; align-items:center; gap:.8rem; margin-bottom:.4rem; }
.iconWrap {
  width:44px; height:44px; border-radius:12px;
  display:grid; place-items:center; background:#f5f3ff; border:1px solid #ebe8ff;
}
.icon { width:24px; height:24px; color:#5A4FCF; }
.titleCol { display:flex; flex-direction:column; }
.stepTag { margin:0; font-size:.8rem; font-weight:700; color:#5A4FCF; }
.title { font-size:1.2rem; color:#1f1d2b; margin:.1rem 0 0; }

.caption { color:#555; margin:.6rem 0 .6rem; }
.bullets { margin:.2rem 0 .9rem; padding-left:1rem; }
.bullets li { color:#3f3f3f; margin:.25rem 0; list-style: disc; }

.cta {
  display:inline-block; text-decoration:none; font-weight:700;
  padding:.6rem 1rem; border-radius:999px; border:2px solid #5A4FCF; color:#5A4FCF;
}
.cta:hover { background:#5A4FCF; color:#fff; }

.note { text-align:center; margin-top:1.5rem; color:#6a6a6a; }

/* Responsive: timeline vertical */
@media (max-width: 900px) {
  .timeline {
    grid-template-columns: 36px 1fr;
    grid-auto-rows: 36px;
    height: auto; max-width: 680px; gap: 12px;
  }
  .rail {
    grid-column: 1 / 1; grid-row: 1 / 4;
    width: 2px; height: auto; margin: 0 auto;
    transform-origin: top;
  }
  @keyframes railGrow {
    from { transform: scaleY(0); }
    to   { transform: scaleY(1); }
  }
  .node:nth-child(2) { grid-column: 1; grid-row: 1; }
  .node:nth-child(3) { grid-column: 1; grid-row: 2; }
  .node:nth-child(4) { grid-column: 1; grid-row: 3; }

  .grid { grid-template-columns: 1fr; max-width: 680px; }
}

/* Accesibilidad: respeta usuarios con menos movimiento */
@media (prefers-reduced-motion: reduce) {
  .rail, .node, .card { animation: none !important; transform: none !important; opacity: 1 !important; }
}
